import{d as o,I as f,l,b as h,c as u,G as d}from"./entry.C-bgoBsy.js";const g=/\/$|\/\?|\/#/,m=/^\.?\//;function S(t="",r){return r?g.test(t):t.endsWith("/")}function a(t="",r){if(!r)return t.endsWith("/")?t:t+"/";if(S(t,!0))return t||"/";let n=t,s="";const e=t.indexOf("#");if(e>=0&&(n=t.slice(0,e),s=t.slice(e),!n))return s;const[c,...i]=n.split("?");return c+"/"+(i.length>0?`?${i.join("?")}`:"")+s}function L(t=""){return t.startsWith("/")}function _(t=""){return L(t)?t:"/"+t}function I(t){return t&&t!=="/"}function R(t,...r){let n=t||"";for(const s of r.filter(e=>I(e)))if(n){const e=s.replace(m,"");n=a(n)+e}else n=s;return n}const w=["src","alt","width","height"],W=o({__name:"ProseImg",props:{src:{type:String,default:""},alt:{type:String,default:""},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0}},setup(t){const r=t,n=f(()=>{var s;if((s=r.src)!=null&&s.startsWith("/")&&!r.src.startsWith("//")){const e=_(a(l().app.baseURL));if(e!=="/"&&!r.src.startsWith(e))return R(e,r.src)}return r.src});return(s,e)=>(h(),u("img",{src:d(n),alt:t.alt,width:t.width,height:t.height},null,8,w))}});export{W as default};
