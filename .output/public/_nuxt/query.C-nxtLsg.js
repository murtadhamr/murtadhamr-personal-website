import{l as u,a6 as y,_ as P}from"./entry.B2uDJp2Y.js";import{u as w}from"./preview.DfPJppaW.js";const $=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,C=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,L=/^([/\\]\s*){2,}[^/\\]/,S=/\/$|\/\?|\/#/,b=/^\.?\//;function T(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?$.test(e):C.test(e)||(t.acceptRelative?L.test(e):!1)}function l(e="",t){return t?S.test(e):e.endsWith("/")}function p(e="",t){if(!t)return(l(e)?e.slice(0,-1):e)||"/";if(!l(e,!0))return e||"/";let n=e,s="";const i=e.indexOf("#");i>=0&&(n=e.slice(0,i),s=e.slice(i));const[o,...r]=n.split("?");return(o.slice(0,-1)||"/")+(r.length>0?`?${r.join("?")}`:"")+s}function x(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(l(e,!0))return e||"/";let n=e,s="";const i=e.indexOf("#");if(i>=0&&(n=e.slice(0,i),s=e.slice(i),!n))return s;const[o,...r]=n.split("?");return o+"/"+(r.length>0?`?${r.join("?")}`:"")+s}function A(e=""){return e.startsWith("/")}function I(e=""){return A(e)?e:"/"+e}function v(e,t){if(D(t)||T(e))return e;const n=p(t);return e.startsWith(n)?e:_(n,e)}function D(e){return!e||e==="/"}function k(e){return e&&e!=="/"}function _(e,...t){let n=e||"";for(const s of t.filter(i=>k(i)))if(n){const i=s.replace(b,"");n=x(n)+i}else n=s;return n}const g=(e,t)=>t.split(".").reduce((n,s)=>n&&n[s],e),h=(e,t)=>Object.keys(e).filter(t).reduce((n,s)=>Object.assign(n,{[s]:e[s]}),{}),X=e=>t=>e&&e.length?h(t,n=>!e.includes(n)):t,H=e=>t=>Array.isArray(t)?t.map(n=>e(n)):e(t),E=e=>{const t=[],n=[];for(const s of e)["$","_"].includes(s)?t.push(s):n.push(s);return{prefixes:t,properties:n}},J=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:n,properties:s}=E(e);return h(t,i=>!s.includes(i)&&!n.includes(i[0]))},K=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:n,properties:s}=E(e);return h(t,i=>s.includes(i)||n.includes(i[0]))},V=(e,t)=>{const n=new Intl.Collator(t.$locale,{numeric:t.$numeric,caseFirst:t.$caseFirst,sensitivity:t.$sensitivity}),s=Object.keys(t).filter(i=>!i.startsWith("$"));for(const i of s)e=e.sort((o,r)=>{const a=[g(o,i),g(r,i)].map(c=>{if(c!==null)return c instanceof Date?c.toISOString():c});return t[i]===-1&&a.reverse(),n.compare(a[0],a[1])});return e},Y=(e,t="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(t)},f=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],j=["sort","where","only","without"];function B(e,t={}){const n={};for(const r of Object.keys(t.initialParams||{}))n[r]=j.includes(r)?f(t.initialParams[r]):t.initialParams[r];const s=(r,a=c=>c)=>(...c)=>(n[r]=a(...c),o),i=r=>{var a;return t.legacy?r!=null&&r.surround?r.surround:r&&(r!=null&&r.dirConfig&&(r.result={_path:(a=r.dirConfig)==null?void 0:a._path,...r.result,_dir:r.dirConfig}),r!=null&&r._path||Array.isArray(r)||!Object.prototype.hasOwnProperty.call(r,"result")?r:r==null?void 0:r.result):r},o={params:()=>({...n,...n.where?{where:[...f(n.where)]}:{},...n.sort?{sort:[...f(n.sort)]}:{}}),only:s("only",f),without:s("without",f),where:s("where",r=>[...f(n.where),...f(r)]),sort:s("sort",r=>[...f(n.sort),...f(r)]),limit:s("limit",r=>parseInt(String(r),10)),skip:s("skip",r=>parseInt(String(r),10)),find:()=>e(o).then(i),findOne:()=>e(s("first")(!0)).then(i),count:()=>e(s("count")(!0)).then(i),locale:r=>o.where({_locale:r}),withSurround:s("surround",(r,a)=>({query:r,...a})),withDirConfig:()=>s("dirConfig")(!0)};return t.legacy&&(o.findSurround=(r,a)=>o.withSurround(r,a).find().then(i)),o}function R(e){return JSON.stringify(e,G)}function G(e,t){return t instanceof RegExp?`--REGEX ${t.toString()}`:t}const q=e=>{let t=R(e);return t=typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t),t=t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(t.match(/.{1,100}/g)||[]).join("/")},m=e=>v(e,u().public.content.api.baseURL),z=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},N=()=>{const{experimental:e}=u().public.content;return e.clientDB?!0:w().isEnabled()},W=()=>async e=>{const{content:t}=u().public,n=e.params(),s=t.experimental.stripQueryParameters?m(`/query/${`${y(n)}.${t.integrity}`}/${q(n)}.json`):m(`/query/${y(n)}.${t.integrity}.json`);if(N())return(await P(()=>import("./client-db.Dpr4sujE.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(r=>r.useContentDatabase())).fetch(e);const i=await $fetch(s,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:R(n),previewToken:w().getPreviewToken()}});if(typeof i=="string"&&i.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return i};function M(e,...t){const{content:n}=u().public,s=B(W(),{initialParams:typeof e!="string"?e:{},legacy:!0});let i;typeof e=="string"&&(i=I(_(e,...t)));const o=s.params;return s.params=()=>{var a,c,d;const r=o();return i&&(r.where=r.where||[],r.first&&(r.where||[]).length===0?r.where.push({_path:p(i)}):r.where.push({_path:new RegExp(`^${i.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(a=r.sort)!=null&&a.length||(r.sort=[{_file:1,$numeric:!0}]),n.locales.length&&((d=(c=r.where)==null?void 0:c.find(O=>O._locale))!=null&&d._locale||(r.where=r.where||[],r.where.push({_locale:n.defaultLocale}))),r},s}export{m as a,Y as b,f as c,V as d,q as e,H as f,g,J as h,K as i,R as j,_ as k,B as l,v as m,X as o,M as q,N as s,z as u,x as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.Dpr4sujE.js","./entry.B2uDJp2Y.js","./entry.BxOTx4W7.css","./preview.DfPJppaW.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
